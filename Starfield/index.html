<canvas id="gc" width="400" height="400"></canvas>

<script>
var stars = [];

function createStar (w, h) {
	return {
		rt: 0.004,	// Radio ratio
		v: 0.08,		// Speed ratio
		x: Math.random() * w,
		y: Math.random() * h,
		px: this.x,	// Previous point
		py: this.y, // Previous point
		z: distance(this.x, this.y, w/2, h/2),
		r: this.rt*this.z,
		update: function () {
			var xc = w/2;
			var yc = h/2;
			var xv = this.x - xc;
			var yv = this.y - yc;

			this.px = this.x;
			this.py = this.y;
			this.x += this.v*xv;
			this.y += this.v*yv;
			this.z = distance(this.x, this.y, w/2, h/2);
			this.r = this.rt*this.z;

			// Restart star when out of view
			if (this.x < 0 || this.x > 400 || this.y < 0 || this.y > 400) {
				this.x = Math.random() * w;
				this.y = Math.random() * h;
				this.px = this.x;
				this.py = this.y;
				this.z = distance(this.x, this.y, w/2, h/2);
				this.r = this.rt*this.z;
			}
		},
		draw: function () {
			// Draw points
			ctx.beginPath();
			ctx.arc(this.x, this.y, this.r, 0, 2 * Math.PI, false);
			ctx.fillStyle = "white";
			ctx.fill();

			// Draw lines
			ctx.beginPath();
			ctx.moveTo(this.px, this.py);
			ctx.lineTo(this.x, this.y);
			ctx.strokeStyle = "#202020";
			ctx.stroke();
		}
	}
}

window.onload = function () {
	canv = document.getElementById("gc");
	ctx = canv.getContext("2d");

	for (var i = 0; i < 100; ++i) {
		stars[i] = createStar(canv.width, canv.height);
	}

	setInterval(loop, 1000/30);
}

function loop () {
	update();
	draw();
}

function update () {
	for (var i = 0; i < 100; ++i) {
		stars[i].update();
	}
}

function draw () {
	// Background
	ctx.fillStyle = "black";
	ctx.fillRect(0, 0, canv.width, canv.height);
	// Stars
	for (var i = 0; i < 100; ++i) {
		stars[i].draw();
	}
}

function distance (x1, y1, x2, y2) {
	return Math.sqrt(square(x1 - x2) + square(y1 - y2));
}

function square (x) {
	return x*x;
}

</script>